(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c,r,i,o=n(0),a=n.n(o),u=n(15),s=n.n(u),l=(n(47),n(48),n(13)),b=n(5),j=n(1),p=function(){return Object(j.jsx)("div",{children:"home"})},d=n(4),f=n(14),h=n(17),x=n(10),O=n(18),k=n(19),m=n(22),y=n.n(m),g=n(31),v=n(27),w=n(36),S=n(37),_=n(30),B=n.n(_),E=0,C=function(e){var t;return E=0,0!==e.basket.length&&(t=e.basket,Object.values(t).forEach((function(e){if(!isNaN(e.count))return E+=e.count;console.log("e.count",e.count)}))),E},T=function(e){return e.basket},L=function(e){var t=0;return e.basket.forEach((function(e){isNaN(e.count)||(t+=e.price*e.count)})),t},N=function(e){return e.request},z=function(e){return"app/books/".concat(e)},F=z("UPDATE_BOOKS"),I=z("ADD_BOOK_TO_BASKET"),A=z("REMOVE_BOOK_FROM_BASKET"),D=z("REMOVE_ALL_BOOK_FROM_BASKET"),R=z("START_REQUEST"),K=z("FINISH_REQUEST_WITH_ERROR"),M=z("FINISH_REQUEST_WITH_SUCCESS"),q=z("SET_AMOUNT_BOOK"),U=function(e){return{type:I,payload:e}},P={basket:[],request:{request:{pending:!1,error:!1,success:!1}}},H=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},Q=function(e,t){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e.count?n({type:A,payload:e}):n(U(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=0,J=Object(S.composeWithDevTools)({})(Object(v.applyMiddleware)(w.a)),V=Object(v.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case F:return Object(d.a)(Object(d.a)({},e),{},{books:Object(k.a)(c)});case I:return Object(d.a)(Object(d.a)({},e),{},{basket:[].concat(Object(k.a)(e.basket.filter((function(e){if(W=0,e.key===c.key&&(W=e.count,c.count+=W),e.key!==c.key)return e}))),[c]).sort(H)});case A:return Object(d.a)(Object(d.a)({},e),{},{basket:[].concat(Object(k.a)(e.basket.filter((function(e){if(e.key===c.key&&(W=e.count,c.count=--W),e.key!==c.key)return e}))),[c]).sort(H)});case D:return Object(d.a)(Object(d.a)({},e),{},{basket:Object(k.a)(e.basket.filter((function(e){return e.key!==c.key}))).sort(H)});case R:return Object(d.a)(Object(d.a)({},e),{},{request:{pending:!0,error:!1,success:!1}});case M:return Object(d.a)(Object(d.a)({},e),{},{request:{pending:!1,error:!1,success:!0}});case K:return Object(d.a)(Object(d.a)({},e),{},{request:{pending:!1,error:!0,success:!1}});case q:return Object(d.a)(Object(d.a)({},e),{},{basket:[].concat(Object(k.a)(e.basket.filter((function(e){if(W=0,e.key!==c.key)return e}))),[c]).sort(H)});default:return e}}),P,J),Z=V,G=n(42),X=O.a.div(c||(c=Object(h.a)(["\n margin: 0 auto;\n    width: 90%;\n    h2{\n        text-align: center;\n    }\n    >div{\n        display: flex;\n        justify-content: center;\n    }\n    ul.tiles{  \n        display:flex;\n        flex-wrap: wrap;  \n        justify-content:center;\n        li{list-style:none;\n            max-width: 150px;\n            display: flex;\n            flex-direction: column;\n            padding: 20px;\n            margin: 10px;\n            border-radius: 5%;\n            width: 120px;\n            background-color: rgba(222, 222, 222, 0.5);\n            box-shadow: 5px 5px 5px #888888;\n            text-decoration: none;\n            color: #000;\n            flex-grow: 1;\n            img{\n                max-height: 220px;\n                width:auto;\n            }\n            h4{\n                display:flex;\n                align-items: center;\n                justify-content: center;\n                text-align:center ;\n                align-items: center;height:100%;\n            }\n            a{text-align:center;\n                text-decoration:none;\n                padding:10px 20px;\n                background-color: #fff;\n                border: 2px solid rgba(1,1,1,0.5);\n                border-radius: 5px;\n                color: #000;\n                text-transform: uppercase;\n                font-weight: 500;\n            }\n            span{\n                text-align:center;margin-bottom:10px\n            }\n    }\n}\n    ul.list{\n        li{list-style:none;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            flex-direction: row;\n            padding: 20px;\n            margin: 15px;\n            border-radius: 5px;\n            background-color: rgba(222, 222, 222, 0.5);\n            box-shadow: 5px 5px 5px #888888;\n            text-decoration: none;\n            color: #000;\n            flex-grow: 1;\n            img{\n                max-height: 200px;\n                width:auto;\n            }\n        }\n\n    }\n"]))),Y=Object(x.b)((function(e){return{data:Object(d.a)({},e)}}),(function(e){return{addBook:function(t){return e(Q(t))}}}))((function(e){var t=e.data,n=e.addBook,c=Object(o.useState)(!1),r=Object(f.a)(c,2),i=r[0],a=r[1],u=Object(o.useState)(!0),s=Object(f.a)(u,2),b=(s[0],s[1]),p=Object(o.useState)(""),d=Object(f.a)(p,2),h=d[0],x=d[1];function O(e,t){return console.log("numberss"),e.price-t.price}function k(e,t){return console.log("numberss"),t.price-e.price}var m=function(e,t){return e.title>t.title?-1:e.title<t.title?1:0},y=Object(o.useState)({filter:H}),g=Object(f.a)(y,2),v=g[0],w=g[1],S=[{value:"by Name",label:"a-z",filter:function(){return w({filter:H})}},{value:"by Name z-a",label:"z-a",filter:function(){return w({filter:m})}},{value:"od najmniejszej",label:"low-high price",filter:function(){return w({filter:O})}},{value:"od nawiekszej",label:"high-low price",filter:function(){return w({filter:k})}}],_=t.books.filter((function(e){return e.title.toLocaleLowerCase().includes(h.toLocaleLowerCase())})).sort(v.filter).map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("img",{src:e.simple_thumb,alt:"Logo"}),Object(j.jsx)("h4",{children:e.title}),Object(j.jsxs)("span",{children:[e.price," PLN"]}),Object(j.jsx)(l.b,{to:"/product/".concat(e.key),children:"Zobacz"}),Object(j.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),n({key:t.key,img:t.simple_thumb,title:t.title,count:1,price:t.price})}(t,e)},children:" Dodaj do koszyka"})]},e.key)}));return Object(j.jsxs)(X,{children:[Object(j.jsx)("h2",{children:"Lista produkt\xf3w"}),Object(j.jsx)(G.a,{options:S,onChange:function(e){return w({filter:e.filter})}}),Object(j.jsx)("button",{onClick:function(){a(!0),b(!1)},children:"LISTA"}),Object(j.jsx)("button",{onClick:function(){a(!1),b(!0)},children:"KAFELKI"}),Object(j.jsxs)("div",{children:["Szukaj: ",Object(j.jsx)("input",{onChange:function(e){return function(e){x(e.target.value)}(e)}})]}),Object(j.jsx)("ul",{className:"".concat(i?"list":"tiles"),children:_})]})})),$=function(){return Object(j.jsx)("div",{children:"ContactForm"})},ee=O.a.div(r||(r=Object(h.a)(["\npadding: 15px 20px;\n    ol{\n        padding:0;\n        display: flex;\n        flex-direction: column;\n        li{\n        display:flex;\n        justify-content: space-between;\n        margin: 15px;\n        &>span{\n            width: 50%;\n        }\n        input{\n            width: 20%;\n        }\n        label{\n            width: 20%;\n        }\n        li:nth-last-child(1){\n            width: 10%;\n        }\n    }\n    }\n    .sum{margin: 15px;\n\n        font-size: 24px;\n    }\n"]))),te=Object(x.b)((function(e){return{basketList:T(e),itemsBasket:C(e),price:L(e)}}),(function(e){return{countBook:function(t){return e(Q(t))},removeBook:function(t){return e({type:D,payload:t})},setCountBook:function(t){return e({type:q,payload:t})}}}))((function(e){var t=e.basketList,n=e.countBook,c=e.removeBook,r=e.itemsBasket,i=e.price,o=e.setCountBook,a=function(e){return Object(j.jsxs)("li",{children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{children:"Tytu\u0142: "}),e.title,"."]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:" Ilo\u015bc sztuk:"})," ",Object(j.jsx)("input",{min:0,max:100,type:"number",value:e.count,onChange:function(t){return function(e,t){o({key:t.key,img:t.simple_thumb,title:t.title,count:parseInt(e.target.value),price:t.price})}(t,e)},onBlur:function(t){return function(e,t){0!==e.target.value.length&&0!=e.target.value||setTimeout((function(){window.confirm("usuna\u0107?")?c({key:t.key}):(o({key:t.key,img:t.simple_thumb,title:t.title,count:1,price:t.price}),e.target.focus())}),500)}(t,e)}})]}),Object(j.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),n({key:t.key,img:t.simple_thumb,title:t.title,count:1,price:t.price})}(t,e)},children:"+"}),Object(j.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),t.count>1?n({key:t.key,img:t.simple_thumb,title:t.title,count:0,price:t.price}):c({key:t.key})}(t,e)},children:"-"})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:" Cena:"}),Object(j.jsxs)("span",{children:[e.price," PLN"]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),c({key:t.key})}(t,e)},children:"Usu\u0144 "})})]},e.key)};return Object(j.jsxs)(ee,{children:[Object(j.jsx)("ol",{children:0===r?Object(j.jsx)("h1",{children:"Koszyk jest pusty"}):t.map((function(e){return a(e)}))}),Object(j.jsxs)("p",{className:"sum",children:[Object(j.jsx)("b",{children:"SUMA:"})," ",Object(j.jsxs)("span",{children:[i.toFixed(2),"PLN"]})]})]})})),ne=Object(x.b)((function(e){return{booksArray:Object(d.a)({},e)}}),(function(e){return{addBook:function(t){return e(Q(t))}}}))((function(e){var t=e.booksArray,n=e.addBook,c=Object(o.useState)(1),r=Object(f.a)(c,2),i=r[0],a=r[1],u=Object(o.useState)(!1),s=Object(f.a)(u,2),l=s[0],p=s[1],d=Object(b.f)(),h=t.books.filter((function(e){return e.key===d.id})).map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:e.id}),Object(j.jsx)("img",{src:e.simple_thumb,alt:"Logo"}),Object(j.jsx)("h4",{children:e.title}),Object(j.jsxs)("form",{onSubmit:function(t){return function(e,t){return e.preventDefault(),n({key:t.key,img:t.simple_thumb,title:t.title,count:parseInt(i),price:t.price})}(t,e)&&a(1)},children:[Object(j.jsx)("input",{type:"number",value:i,onChange:function(e){return function(e){0===parseInt(e.target.value)||0===e.target.value.length?p(!0):p(!1),a(e.target.value)}(e)}}),Object(j.jsx)("button",{disabled:l,type:"submit",children:"Dodaj do koszyka"})]})]},d)}));return Object(j.jsx)(j.Fragment,{children:h})})),ce=function(e){var t=e.match;e.props;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Strona produktu"}),Object(j.jsx)(ne,{id:t.params.id}),Object(j.jsx)(l.b,{to:"/products",children:"pworot do listy produktow "})]})},re=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{exact:!0,path:"/",component:p}),Object(j.jsx)(b.a,{path:"/products",component:Y}),Object(j.jsx)(b.a,{path:"/product/:id",component:ce}),Object(j.jsx)(b.a,{path:"/contact",component:$}),Object(j.jsx)(b.a,{path:"/basket",component:te}),Object(j.jsx)(b.a,{render:function(){return Object(j.jsx)("h1",{children:"Strona nie istnieje"})}})]})})},ie=O.a.header(i||(i=Object(h.a)(["\nheight: 10%;\nbackground-color: #ddd;\n ul{\n     display: flex;\n     justify-content: center;\n     list-style: none;\n     height: 80px;\n     margin: 0;\n     li{display:flex;\n        justify-content: center;\n        align-items: center;\n         margin: 0 20px;\n         text-transform: uppercase;\n        \n         a{\n            color: #000;\n         text-decoration: none;font-weight:500;\n         font-size:18px;\n         span{\n             color:red;\n         }\n         }\n     }\n }\n"]))),oe=[{name:"start",path:"/",exact:!0},{name:"pordukty",path:"/products"},{name:"kontakt",path:"/contact"},{name:"koszyk",path:"/basket"}],ae=Object(x.b)((function(e){return{basket:C(e)}}))((function(e){var t=e.basket,n=oe.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(l.c,{exact:!!e.exact&&e.exact,to:e.path,children:"koszyk"===e.name?Object(j.jsxs)(j.Fragment,{children:[e.name," ",Object(j.jsx)("span",{children:isNaN(t)?"aa":t})]}):"".concat(e.name)})},e.name)}));return Object(j.jsx)(ie,{className:"main",children:Object(j.jsx)("ul",{children:n})})})),ue=n(41),se=n.n(ue),le=Object(x.b)((function(e){return{request:N(e)}}),(function(e){return{udpateBook:function(){return e(function(){var e=Object(g.a)(y.a.mark((function e(t){var n,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:R}),e.next=4,fetch("https://wolnelektury.pl/api/authors/adam-mickiewicz/kinds/liryka/books/");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,r=c.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{key:B()().toString(),price:(100*Math.random()).toFixed(2)})})),t({type:F,payload:r}),t({type:M}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),t({type:K});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.udpateBook,n=e.request;return Object(o.useEffect)((function(){t()}),[]),Object(j.jsxs)(l.a,{children:[Object(j.jsx)(ae,{}),n.pending&&Object(j.jsx)(se.a,{type:"Rings",color:"red",height:80,width:80}),n.error&&console.warn("warrning"),n.success&&Object(j.jsx)(re,{})]})})),be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x.a,{store:Z,children:Object(j.jsx)(le,{})})}),document.getElementById("root")),be()}},[[97,1,2]]]);
//# sourceMappingURL=main.0fd25208.chunk.js.map