(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),i=n(15),s=n.n(i),o=(n(51),n(12)),u=n(4),l=n(8),j=n(5),b=(n(55),n(17)),d=n(27),p=n.n(d),O=n(6),f=n(34),h=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},m={basket:[],request:{request:{pending:!1,error:!1,success:!1}}},x=[{value:"by Name",label:"a-z",filter:h},{value:"by Name z-a",label:"z-a",filter:function(e,t){return e.title>t.title?-1:e.title<t.title?1:0}},{value:"od najmniejszej",label:"min-max cena",filter:function(e,t){return e.price-t.price}},{value:"od nawiekszej",label:"max-min cena",filter:function(e,t){return t.price-e.price}}],k=[{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"},{value:"all",label:"wszystkie"}],y=n(35),v=n.n(y),g=0,S=function(e,t){return(t-.2*t).toFixed(2)},_=function(e){return e.books},N=function(e){var t;return g=0,0!==e.basket.length&&(t=e.basket,Object.values(t).forEach((function(e){return isNaN(e.count)?void 0:g+=e.count}))),g},w=function(e){return"app/books/".concat(e)},C=w("UPDATE_BOOKS"),L=w("ADD_BOOK_TO_BASKET"),I=w("REMOVE_BOOK_FROM_BASKET"),E=w("REMOVE_ALL_BOOK_FROM_BASKET"),z=w("START_REQUEST"),T=w("FINISH_REQUEST_WITH_ERROR"),D=w("FINISH_REQUEST_WITH_SUCCESS"),P=w("SET_AMOUNT_BOOK_IN_BASKET"),B=w("SET_COUNT_BOOK"),F=function(e){return{type:C,payload:e}},A=function(){return{type:D}},K=function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){var n,c,r,a,i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=new Date,null!=localStorage.getItem("hour")&&parseInt(localStorage.getItem("hour"))===parseInt(n.getHours())){e.next=20;break}return localStorage.setItem("hour",n.getHours()),localStorage.setItem("time",Date.now()),localStorage.setItem("time2",Date()),t({type:z}),e.next=9,fetch("https://wolnelektury.pl/api/authors/adam-mickiewicz/kinds/liryka/books/");case 9:return c=e.sent,e.next=12,c.json();case 12:for(r=e.sent,a=r.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{key:v()().toString(),count:0,price:(100*Math.random()).toFixed(2),onSale:!1})})),i=0;i<3;i++)a[Math.floor(Math.random()*a.length)].onSale=!0;t(F(a)),t(A()),localStorage.setItem("array",JSON.stringify(a)),e.next=22;break;case 20:s=JSON.parse(localStorage.getItem("array")),t(F(s))&&t(A());case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error(e.t0),t({type:T});case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}()},M=function(e,t){return function(t){0===e.count?t({type:I,payload:e}):(t(function(e){return{type:B,payload:e}}(e)),t(function(e){return{type:L,payload:e}}(e)))}},R=0,U=n(36),H=n.p+"static/media/pexels-kaboompics-com-6332.269f73da.jpg",q=n.p+"static/media/pexels-ma\xebl-balland-3457273.344df4fd.jpg",J=n.p+"static/media/pexels-martin-p\xe9chy-922100.1f28be85.jpg",V=n(1),Q=[H,q,J],W=0,Z=function(){var e=Object(r.useState)(H),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),i=Object(l.a)(a,2),s=i[0],u=i[1],b=Object(j.d)((function(e){return _(e)})),d=Object(j.c)();Object(r.useEffect)((function(){return setInterval((function(){setTimeout((function(){return u(!1)}),1e3),u(!0),c(Q[W]),++W===Q.length&&(W=0)}),2e3),function(){return clearInterval(setInterval)}}),[]);var p=function(e,t){e.preventDefault();var n=t.key,c=t.simple_thumb,r=t.title,a=t.price;return function(e){return d(M(e))}({key:n,img:c,title:r,count:1,price:S(0,a),oldPrice:a})},O=new Date;return Object(V.jsxs)("div",{className:"home",children:[Object(V.jsx)("ul",{className:"home__slider",children:Object(V.jsx)("img",{className:!0===s?"fade":null,src:n,alt:n})}),Object(V.jsx)("h2",{children:"Akutalne ksi\u0105\u017cki -20% przez: "}),Object(V.jsxs)("div",{className:"home__counter",children:[" ",Object(V.jsx)(U.a,{onComplete:function(){return localStorage.clear(),d(K())},date:O.setHours(Number(localStorage.getItem("hour"))+1,0,0,0)})]}),Object(V.jsx)("ul",{className:"home__list",children:b.filter((function(e){return e.onSale})).map((function(e){return function(e){var t=e.key,n=e.simple_thumb,c=e.title,r=e.price,a=e.count;return Object(V.jsxs)("li",{children:[Object(V.jsx)("img",{src:n,alt:"Logo"}),Object(V.jsx)("h4",{children:c}),Object(V.jsxs)("span",{children:[Object(V.jsx)("s",{children:Object(V.jsxs)("span",{className:"item__price--old",children:[r," "]})}),"PLN"]}),Object(V.jsxs)("span",{children:[Object(V.jsxs)("span",{className:"item__price--new",children:[S(0,r)," "]}),"PLN"]}),Object(V.jsx)(o.b,{to:"/product/".concat(t),children:"Zobacz"}),Object(V.jsx)("button",{onClick:function(t){return p(t,e)},children:" Dodaj do koszyka"}),Object(V.jsx)("span",{className:"product__span-alert",children:a>0?"Dodano: "+a+"szt.":null})]},t)}(e)}))})]})},X=(n(67),n(30)),Y=n(38),G=n.n(Y),$=function(){var e=Object(j.d)((function(e){return _(e)})),t=Object(j.c)(),n=Object(r.useState)(!1),c=Object(l.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(!0),u=Object(l.a)(s,2),b=u[0],d=u[1],p=Object(r.useState)(""),O=Object(l.a)(p,2),f=O[0],m=O[1],y=Object(r.useState)(e),v=Object(l.a)(y,2),g=v[0],S=v[1],N=Object(r.useState)(0),w=Object(l.a)(N,2),C=w[0],L=w[1],I=Object(r.useState)(15),E=Object(l.a)(I,2),z=E[0],T=E[1],D=Object(r.useState)(0),P=Object(l.a)(D,2),B=(P[0],P[1]),F=C*z,A=Math.ceil(g.length/z),K=g.slice(F,F+z).map((function(e){var t=e.key,n=e.simple_thumb,c=e.title,r=e.price,a=e.count;return Object(V.jsxs)("li",{children:[Object(V.jsx)("img",{src:n,alt:"Logo"}),Object(V.jsx)("h4",{children:c}),Object(V.jsxs)("span",{children:[r," PLN"]}),Object(V.jsx)(o.b,{to:"/product/".concat(t),children:"Zobacz"}),Object(V.jsx)("button",{onClick:function(t){return R(t,e)},children:" Dodaj do koszyka"}),Object(V.jsx)("span",{className:"product__span-alert",children:a>0?"Dodano: "+a+"szt.":null})]},t)})).sort(h),R=function(e,n){return e.preventDefault(),function(e){return t(M(e))}({key:n.key,img:n.simple_thumb,title:n.title,count:1,price:n.price})},U=function(e){var t=e.selected;B(t)},H=function(e){var t=e.selected;L(t)};return Object(V.jsxs)("div",{className:"productList",children:[Object(V.jsx)("h2",{children:"Lista produkt\xf3w"}),Object(V.jsxs)("div",{children:[Object(V.jsxs)("label",{children:["Szukaj:",Object(V.jsx)("input",{value:f,onChange:function(t){U({selected:0}),m(t.target.value),H({selected:0}),S(e.filter((function(e){return e.title.toLocaleLowerCase().includes(t.target.value.toLocaleLowerCase())})))}}),Object(V.jsx)("button",{onClick:function(){return m(""),S(e)},children:"X"})]}),Object(V.jsx)("div",{children:Object(V.jsx)("button",{onClick:function(){return e=!b,i(!a)&&d(e);var e},children:a?"Kafelki":"Lista"})}),Object(V.jsx)("div",{className:"wrapperSelect",children:Object(V.jsx)(X.a,{autosize:!0,defaultValue:k[2],options:k,onChange:function(e){"all"===e.value?T(g.length):T(e.value)}})}),Object(V.jsx)("div",{className:"wrapperSelect",children:Object(V.jsx)(X.a,{autosize:!0,defaultValue:x[0],options:x,onChange:function(t){U({selected:0}),H({selected:0}),S(e.sort(t.filter).filter((function(e){return e.title.toLocaleLowerCase().includes(f.toLocaleLowerCase())})))}})})]}),Object(V.jsx)("ul",{className:"".concat(a?"list":"tiles"),children:K}),Object(V.jsx)(G.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:A,onPageChange:H,containerClassName:"paginationBtns",previousLinkClassName:"previousBtn",nextLinkClassName:"nextBtn",disabledClassName:"paginationDisabled",activeClassName:"paginationActive",onPageActive:U})]})},ee=function(){return Object(V.jsx)("div",{children:"ContactForm"})},te=n(39),ne=n(40).a.div(c||(c=Object(te.a)(["\npadding: 15px 20px;\n    ol{\n        padding:0;\n        display: flex;\n        flex-direction: column;\n        li{\n        display:flex;\n        justify-content: space-between;\n        margin: 15px;\n        &>span{\n            width: 50%;\n        }\n        input{\n            width: 20%;\n        }\n        label{\n            width: 20%;\n        }\n        li:nth-last-child(1){\n            width: 10%;\n        }\n    }\n    }\n    .sum{margin: 15px;\n\n        font-size: 24px;\n    }\n"]))),ce=function(){var e=Object(j.d)((function(e){return function(e){return e.basket}(e)})),t=Object(j.d)((function(e){return N(e)})),n=Object(j.d)((function(e){return function(e){var t=0;return e.basket.forEach((function(e){isNaN(e.count)||(t+=e.price*e.count)})),t}(e)})),c=Object(j.c)(),r=function(e){return c(M(e))},a=function(e){return c({type:E,payload:e})},i=function(e){return c({type:P,payload:e})},s=function(e){return Object(V.jsxs)("li",{children:[Object(V.jsxs)("span",{children:[Object(V.jsx)("b",{children:"Tytu\u0142: "}),e.title,"."]}),Object(V.jsxs)("div",{children:[Object(V.jsxs)("label",{children:[Object(V.jsx)("b",{children:" Ilo\u015bc sztuk:"})," ",Object(V.jsx)("input",{min:0,max:100,type:"number",value:e.count,onChange:function(t){return function(e,t){i({key:t.key,img:t.simple_thumb,title:t.title,count:parseInt(e.target.value),price:t.price})}(t,e)},onBlur:function(t){return function(e,t){0!==e.target.value.length&&0!=e.target.value||setTimeout((function(){window.confirm("usuna\u0107?")?a({key:t.key}):(i({key:t.key,img:t.simple_thumb,title:t.title,count:1,price:t.price}),e.target.focus())}),500)}(t,e)}})]}),Object(V.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),r({key:t.key,img:t.simple_thumb,title:t.title,count:1,price:t.price,oldPrice:t.oldPrice})}(t,e)},children:"+"}),Object(V.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),t.count>1?r({key:t.key,img:t.simple_thumb,title:t.title,count:0,price:t.price,oldPrice:t.oldPrice}):a({key:t.key})}(t,e)},children:"-"})]}),Object(V.jsxs)("label",{children:[Object(V.jsx)("b",{children:" Cena: "}),Object(V.jsx)("s",{children:Object(V.jsx)("span",{style:{color:"red"},children:e.oldPrice})})," ",Object(V.jsxs)("span",{style:e.oldPrice?{color:"green"}:null,children:[" ",e.price," PLN"]})]}),Object(V.jsx)("div",{children:Object(V.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),a({key:t.key})}(t,e)},children:"Usu\u0144 "})})]},e.key)};return Object(V.jsxs)(ne,{children:[Object(V.jsx)("ol",{children:0===t?Object(V.jsx)("h1",{children:"Koszyk jest pusty"}):e.map((function(e){return s(e)}))}),Object(V.jsxs)("p",{className:"sum",children:[Object(V.jsx)("b",{children:"SUMA:"})," ",Object(V.jsxs)("span",{children:[n.toFixed(2),"PLN"]})]})]})},re=function(){var e=Object(j.d)((function(e){return _(e)})),t=Object(j.c)(),n=Object(r.useState)(1),c=Object(l.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),b=o[0],d=o[1],p=Object(u.f)(),O=function(e,n){e.preventDefault(),d(!0),i(1);var c=n.key,r=n.simple_thumb,s=n.title,o=n.price;return function(e){return t(M(e))}({key:c,img:r,title:s,count:parseInt(a),price:o})},f=e.filter((function(e){return e.key===p.id})).map((function(e){var t=e.id,n=e.simple_thumb,c=e.title;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:t}),Object(V.jsx)("img",{src:n,alt:"Logo"}),Object(V.jsx)("h4",{children:c}),Object(V.jsxs)("form",{onSubmit:function(t){return O(t,e)&&i(1)},children:[Object(V.jsx)("input",{type:"number",min:1,value:a,onChange:function(e){return function(e){var t=e.target.value;0===parseInt(t)||0===t.length||t<0?d(!0):d(!1),i(t)}(e)}}),Object(V.jsx)("button",{disabled:b,type:"submit",children:"Dodaj do koszyka"})]})]},p)}));return Object(V.jsx)(V.Fragment,{children:f})},ae=function(e){var t=e.match;e.props;return Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{children:"Strona produktu"}),Object(V.jsx)(re,{id:t.params.id}),Object(V.jsx)(o.b,{to:"/products",children:"pworot do listy produktow "})]})},ie=(n(83),function(){return Object(V.jsx)("section",{className:"contentPage",children:Object(V.jsxs)(u.c,{children:[Object(V.jsx)(u.a,{exact:!0,path:"/",component:Z}),Object(V.jsx)(u.a,{exact:!0,path:"/redux-react",component:Z}),Object(V.jsx)(u.a,{path:"/products",component:$}),Object(V.jsx)(u.a,{path:"/product/:id",component:ae}),Object(V.jsx)(u.a,{path:"/contact",component:ee}),Object(V.jsx)(u.a,{path:"/basket",component:ce}),Object(V.jsx)(u.a,{render:function(){return Object(V.jsx)("h1",{children:"Strona nie istnieje"})}})]})})}),se=(n(84),n(46)),oe=[{name:"start",path:"/",exact:!0},{name:"produkty",path:"/products"},{name:"kontakt",path:"/contact"},{name:"koszyk",path:"/basket"}],ue=Object(j.b)((function(e){return{basket:N(e)}}))((function(e){var t=e.basket,n=Object(r.useState)(),c=Object(l.a)(n,2),a=c[0],i=c[1];Object(r.useEffect)((function(){window.onscroll=function(){window.scrollY<=10?i(!1):i(!0)}}),[]);var s=oe.map((function(e){return Object(V.jsx)("li",{children:Object(V.jsx)(o.c,{exact:!!e.exact&&e.exact,to:e.path,children:"koszyk"===e.name?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(se.a,{})," ",Object(V.jsx)("span",{children:isNaN(t)?"aa":t})]}):"".concat(e.name)})},e.name)}));return Object(V.jsxs)("header",{className:a?"menu scrolled":"menu",children:[Object(V.jsxs)("h1",{children:[Object(V.jsx)("span",{children:"Book"}),"Store"]}),Object(V.jsx)("ul",{children:s})]})})),le=n(43),je=n.n(le),be=function(){var e=Object(j.d)((function(e){return function(e){return e.request}(e)})),t=Object(j.c)();return Object(r.useEffect)((function(){t(K())}),[]),Object(V.jsxs)(o.a,{children:[Object(V.jsx)(ue,{}),e.pending&&Object(V.jsx)(je.a,{type:"Rings",color:"red",height:80,width:80}),e.error&&console.warn("warrning"),e.success&&Object(V.jsx)(ie,{})]})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},pe=n(24),Oe=n(44),fe=n(45),he=Object(fe.composeWithDevTools)({})(Object(pe.applyMiddleware)(Oe.a)),me=Object(pe.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case C:return Object(O.a)(Object(O.a)({},e),{},{books:Object(b.a)(c)});case L:return Object(O.a)(Object(O.a)({},e),{},{basket:[].concat(Object(b.a)(e.basket.filter((function(e){if(R=0,e.key===c.key&&(R=e.count,c.count+=R),e.key!==c.key)return e}))),[c]).sort(h)});case I:return Object(O.a)(Object(O.a)({},e),{},{basket:[].concat(Object(b.a)(e.basket.filter((function(e){if(e.key===c.key&&(R=e.count,c.count=--R),e.key!==c.key)return e}))),[c]).sort(h)});case E:return Object(O.a)(Object(O.a)({},e),{},{basket:Object(b.a)(e.basket.filter((function(e){return e.key!==c.key}))).sort(h)});case z:return Object(O.a)(Object(O.a)({},e),{},{request:{pending:!0,error:!1,success:!1}});case D:return Object(O.a)(Object(O.a)({},e),{},{request:{pending:!1,error:!1,success:!0}});case T:return Object(O.a)(Object(O.a)({},e),{},{request:{pending:!1,error:!0,success:!1}});case P:return Object(O.a)(Object(O.a)({},e),{},{basket:[].concat(Object(b.a)(e.basket.filter((function(e){if(R=0,e.key!==c.key)return e}))),[c]).sort(h)});case B:return Object(O.a)(Object(O.a)({},e),{},{books:Object(b.a)(e.books.filter((function(e){return e.key===c.key&&e.count++,e})))});default:return e}}),m,he),xe=me;s.a.render(Object(V.jsx)(a.a.StrictMode,{children:Object(V.jsx)(j.a,{store:xe,children:Object(V.jsx)(be,{})})}),document.getElementById("root")),de()},51:function(e,t,n){},55:function(e,t,n){},67:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.2917e8da.chunk.js.map